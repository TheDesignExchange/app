:css
  .no-padding{
    padding: 0%;
  }
  .nav-tabs{
    cursor: pointer;
  }
  .tab-pane{
    border-left: 1px solid #ddd;
    border-right: 1px solid #ddd;
    border-bottom: 1px solid #ddd;
    padding: 20px;
  }
:javascript
  $(function(){
    adjustSaveBar();
  });

  function adjustSaveBar(){
    var pH = $('#publish-btn').parent().height()
    var eH = $('#publish-btn').height()
    $('#publish-btn').css('margin-top', (pH - eH)/2)

    //pH = $('#save-btn').parent().height()
    eH = $('#save-btn').height()
    $('#save-btn').css('margin-top', (pH - eH)/2)

    pH = $('#auto-saved-text').parent().height()
    eH = $('#auto-saved-text').height()
    $('#auto-saved-text').css('margin-top', (pH - eH)/2)
  }
= form_for @design_method, :html => {:multipart => true} do |f|
  / ERROR MESSAGES
  - if @design_method.errors.any?
    #error_explanation
      %h2
        = pluralize(@design_method.errors.count, "error")
        prohibited this design_method from being saved:
      %ul
        - @design_method.errors.full_messages.each do |msg|
          %li= msg
  / INPUT FIELDS
  #save-bar.row
    = f.submit "Publish", :id => "publish-btn", :class => "btn btn-primary pull-right"
    %button#save-btn.btn.btn-default.pull-right{:name => "commit", :type => "button"}
      = glyphyify("floppy-disk")
      Save as Draft
    / </button>
    %span#auto-saved-text.pull-right Auto-saved as draft 2 minutes ago
  /Tabs
  .row.padding
    #tabs
      %ul.nav.nav-tabs
        %li.active
          %a{"data-link" => "overview"} Overview
        %li
          %a{"data-link" => "instructions"} Instructions
        %li
          %a{"data-link" => "resources"} Resources
        %li
          %a{"data-link" => "sidebar"} Sidebar
  /Method overview
  .tab-pane.row{"data-link" => "overview"}
    / INPUT METHOD NAME
    %h3 Method Name
    .input-group-lg{:style => "margin-top: 10px;margin-bottom: 10px;"}
      = f.text_field :name, :class=> "form-control", :placeholder => "Method Name"
    / END INPUT METHOD NAME
    %h3 Synonyms
    .input-group-lg{:style => "margin-top: 10px;margin-bottom: 10px;"}
      = f.text_field :synonyms, :class=> "form-control", :placeholder => ""
    / IMAGES
    .row
      .col-xs-6.col-md-12
        - if @design_method.main_image.present?
          = image_tag(@design_method.main_image)
        - else
          = image_tag("no-image-available.png", :width => "100%", :height => "385")
    %br/
    = f.file_field :main_image
    / END IMAGES
    / FORMS
    %h3 Summary
    = f.text_area :overview, :class => "form-control markdown", :rows => 6
    %h3 Usage
    = f.text_area :usage, :class => "form-control markdown", :rows => 6
    %h3 Benefits
    = f.text_area :benefits, :class => "form-control markdown", :rows => 6
    %h3 Limitations/Risks
    = f.text_area :limitations, :class => "form-control markdown", :rows => 6
    %h3 Skills
    = f.text_area :skills, :class => "form-control markdown", :rows => 6
  /Instructions tab
  .tab-pane.row{"data-link" => "instructions"}
    %h3 Instructions
    = f.text_area :process, :class => "form-control markdown", :rows => 20
  /Resources tab
  .tab-pane.row{"data-link" => "resources"}
    %h3 Online Tools And Resources
    = f.text_area :online_resources, :class => "form-control markdown", :rows => 6
    %h3 History
    = f.text_area :history, :class => "form-control markdown", :rows => 6
    %h3 Critiques
    = f.text_area :critiques, :class => "form-control markdown", :rows => 6
    %h3 Additional Reading
    = f.text_area :additional_reading, :class => "form-control markdown", :rows => 6
  /Sidebar tab
  .tab-pane.row{"data-link" => "sidebar"}
    / PEOPLE
    .row
      %h4 People
      .input-group
        %span.input-group-addon
          %span.glyphicon.glyphicon-user collaborators
        = f.number_field :num_of_designers, :class => "form-control", :placeholder => "# of collaborators", in: 0...1000
      %br/
      .input-group
        %span.input-group-addon
          %span.glyphicon.glyphicon-user users
        = f.number_field :num_of_users, :class => "form-control", :placeholder => "# of users", in: 0...1000
    / END PEOPLE
    / TOOLS
    .row
      %h4 Tools
      .input-group
        %span.input-group-addon
          %span.glyphicon.glyphicon-pencil
        %input.form-control{:placeholder => "Ex. paper, pen", :type => "text"}/
    / END TOOLS
    / TIME
    .row
      %h4 Time
      .input-group
        %span.input-group-addon
          %span.glyphicon.glyphicon-time
        = f.number_field :time_period, :class => "form-control", in: 0...1000
        = f.select(:time_unit, options_for_select([['years', 'yr'], ['days', 'd'], ['hours', 'hr'], ['minutes', 'min']], @design_method.time_unit), {}, {:class=> "form-control"})
    / END TIME
    / TAGS
    .row
      %h4 Tags
      .input-group
        %input.form-control{:type => "text"}/
        %span.input-group-btn
          %button.btn.btn-default{:onclick => "createTag('design_method', #{params[:id]}, this);", :type => "button"} Add Tag
      %br/
      %p.tag-list
        - @design_method.tags.each do |t|
          = tagify(t.id, t.content, {:removable => true})
    / END OF TAGS
    / CHARACTERISTICS
    .row
      %h4 Characteristics
      .input-group
        - char_ids = @design_method.characteristics.map(&:id)
        - MethodCategory.all.each do |m|
          .col-md-2
            %b= m.name
            %br/
            - CharacteristicGroup.where(method_category_id: m.id).each do |g|
              %div
              %br/
              = g.name
              %br/
              - Characteristic.where(characteristic_group_id: g.id).each do |h|
                - if char_ids.include? h.id
                  %input{:type => "checkbox", :checked => "checked"}
                - else
                  %input{:type => "checkbox"}
                = h.name
                %br/
    / END CHARACTERISTICS
  / END FORMS
  %br/
  #save-bar.row
    = f.submit "Publish", :id => "publish-btn", :class => "btn btn-primary pull-right"
    %button#save-btn.btn.btn-default.pull-right{:name => "commit", :type => "button"}
      = glyphyify("floppy-disk")
      Save as Draft
    / <span id="auto-saved-text" class="pull-right">Auto-saved as draft 2 minutes ago</span>
  / END BODY
