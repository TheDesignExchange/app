:css

  /* navbar styles */
  #search {
     background-color: #BDBDBD;
  }

  .navbar{
    margin-bottom: 0;
    font-family: "Gotham", sans-serif;
    background-color: #BDBDBD;
    border: none;
  }

  .site-footer {
    font-family: "Gotham", sans-serif;
  }

  a {
    font-family: "Gotham", sans-serif;
  }

  body {
    font-family: "Gotham", sans-serif;
  }

  h1 {
    font-weight: bold;
  }

  p {
    line-height: 1.75em;
    font-size: 1.12em;
  }

  .underline-container {
    position: relative;
    display: inline-block;
    padding-right: 0.5em;
  }
  .underline-container a {
    color: #333333;
  }
  .underline {
    display: block;
    width: 100%;
    position: absolute;
    background-color: #85F85D;
    height: 30%;
    bottom: 5%;
    z-index: -1;
  }
  .underline .hide {
    display: none;
  }

  .navbar{
    margin-bottom: 0;
    font-family: "Gotham", sans-serif;
    font-weight: normal;
    background-color: #BDBDBD;
    border: none;
  }

  .jumbotron {
    background-color: #bdbdbd;
    color: #000000;
    width: 100%;
    height: 400px;
    display: block;
    text-align: left;
    padding-left: 12%;
    padding-right: 12%;
    font-family: "Gotham", sans-serif
  }

  .jumbotron h2{
    font-weight: bold;
    font-size: 52px;
    padding-top: 10%;
    padding-bottom: 4%;
  }

  #explore {
    text-align: center;
    margin-top: 100px;
  }
  #explore h1 {
    line-height: 1.4em;
  }
  #explore span {
    font-weight: bold;
    display: inline-block;
  }

  /*Vertical Sliding*/
  .slidingVertical{
    display: inline;
    text-indent: 8px;
  }
  .slidingVertical span{
    animation: topToBottom 12.5s linear infinite 0s;
    -ms-animation: topToBottom 12.5s linear infinite 0s;
    -webkit-animation: topToBottom 12.5s linear infinite 0s;
    color: #00abe9;
    opacity: 0;
    overflow: hidden;
    position: absolute;
  }
  .slidingVertical span:nth-child(2){
    animation-delay: 2.5s;
    -ms-animation-delay: 2.5s;
    -webkit-animation-delay: 2.5s;
  }
  .slidingVertical span:nth-child(3){
    animation-delay: 5s;
    -ms-animation-delay: 5s;
    -webkit-animation-delay: 5s;
  }
  .slidingVertical span:nth-child(4){
    animation-delay: 7.5s;
    -ms-animation-delay: 7.5s;
    -webkit-animation-delay: 7.5s;
  }
  .slidingVertical span:nth-child(5){
    animation-delay: 10s;
    -ms-animation-delay: 10s;
    -webkit-animation-delay: 10s;
  }

  /*topToBottom Animation*/
  @-moz-keyframes topToBottom{
    0% { opacity: 0; }
    5% { opacity: 0; -moz-transform: translateY(-50px); }
    10% { opacity: 1; -moz-transform: translateY(0px); }
    25% { opacity: 1; -moz-transform: translateY(0px); }
    30% { opacity: 0; -moz-transform: translateY(50px); }
    80% { opacity: 0; }
    100% { opacity: 0; }
  }
  @-webkit-keyframes topToBottom{
    0% { opacity: 0; }
    5% { opacity: 0; -webkit-transform: translateY(-50px); }
    10% { opacity: 1; -webkit-transform: translateY(0px); }
    25% { opacity: 1; -webkit-transform: translateY(0px); }
    30% { opacity: 0; -webkit-transform: translateY(50px); }
    80% { opacity: 0; }
    100% { opacity: 0; }
  }
  @-ms-keyframes topToBottom{
    0% { opacity: 0; }
    5% { opacity: 0; -ms-transform: translateY(-50px); }
    10% { opacity: 1; -ms-transform: translateY(0px); }
    25% { opacity: 1; -ms-transform: translateY(0px); }
    30% { opacity: 0; -ms-transform: translateY(50px); }
    80% { opacity: 0; }
    100% { opacity: 0; }
  }

  #methods {
    margin-top: 120px;
  }

  #case-studies {
    margin-top: 120px;
    margin-bottom: 64px;
  }

  .see-link a {
    float: right;
    color: #888;
    font-style: italic;
    margin-bottom: 24px;
  }

  #worlds-largest {
    margin-top: 144px;

  }
  #worlds-largest .earth {
    text-align: center;
  }
  #worlds-largest img {
    width: 60%;
  }

  .circle-container {
    position: relative;
    width: 24em;
    height: 24em;
    padding: 2.8em; /*= 2em * 1.4 (2em = half the width of an img, 1.4 = sqrt(2))*/
    border-radius: 50%;
    margin: 1.75em auto 0;
    text-align: center;
  }
  .circle-container a {
    color: #333333;
    display: block;
    position: absolute;
    top: 50%; left: 50%;
    width: 4em; height: 4em;
    margin: -2em; /* 2em = 4em/2 */ /* half the width */
    font-size: 18px;
    color: rgba(0, 0, 0, 0.6);
  }
  .circle-container .center-container {
    color: #333333;
    display: block;
    position: absolute;
    top: 50%; left: 50%;
    width: 12em; height: 8em;
    margin: -6em;
    text-align: center;
  }
  .circle-container .underline-container {
    cursor: pointer;
  }
  .circle-container img {
    display: block;
    width: 50%;
    margin-top: -4em;
    margin-left: auto;
    margin-right: auto;
  }
  .deg0 { transform: rotate(-90deg) translate(12em) rotate(90deg); }
  .deg72 { transform: rotate(-18deg) translate(12em) rotate(18deg); }
  .deg144 { transform: rotate(54deg) translate(12em) rotate(-54deg); }
  .deg216 { transform: rotate(126deg) translate(12em) rotate(-126deg); }
  .deg288 { transform: rotate(198deg) translate(12em) rotate(-198deg); }

  #showcase {
    margin-top: 200px;
  }
  #showcase-img {
    width: 100%;
  }
  #showcase-header {
    color: #333333;
    font-weight: bold;
  }

  .card {
    /* Add shadows to create the "card" effect */
    box-shadow: 0 4px 8px 0 rgba(0,0,0,0.2);
    transition: 0.3s;
    height: auto;
    margin: 2px 16px;
    padding: 0px 0px 16px 0px;
  }
  /* On mouse-over, add a deeper shadow */
  .card:hover {
    box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
  }
  .card img {
    width: 100%;
    display: inherit;
    overflow: hidden;
    max-height: 100px;
  }
  /* Add some padding inside the card container */
  .card-container {
    padding: 2px 16px;
  }
  .vert-card {
    display: block;
    background-color: #eee;
    position: relative;
    font-size: 0.85em;
    padding: 0px 0px 0px 12px;
    margin: 16px;
  }
  .vert-card:hover {
    box-shadow: 0 8px 16px 0 rgba(0,0,0,0.2);
  }
  .vert-card-container {
    width: 35%;
    display: inline-block;
  }
  .vert-card img {
    max-width: 60%;
    overflow: hidden;
    display: inline-block;
    vertical-align: top;
  }

  .join {
    text-align: center;
  }
  .join-button {
    background-color: #6BC06D;
    border-radius: 10px;
    color: white;
    font-size: 24px;
    padding: 8px 24px;
  }
  .join-button a {
    color: white;
  }

  .site-footer {
    background-color: #F2F2F2;
    text-align: center;
  }

.row{:id => "explore"}
  .container
    %h1
      We help
      .slidingVertical
        %span
          Students
        %span
          Educators
        %span
          Professionals
        %span
          Anyone
      %br
      embed human-centered design
      %br
      into their
      .slidingVertical
        %span
          Projects
        %span
          Curriculum
        %span
          Practice
        %span
          Life

.row{:id => "worlds-largest"}
  .col-sm-3.earth
    %img
      = image_tag "earth.png"
  .col-sm-9
    %p
      TheDesignExchange (tDX) is the world’s largest open-source innovation archive of <a href="/">design methods</a> and <a href="/">case studies</a>. We support the design community through the entire life-cycle of the conceptual design process—from observation through synthesis and analysis to realization and evaluation – through our library of versatile and extensive tools.
    %br
    %p
      This is a joint project led by UC Berkeley and M.I.T. working with the international community of design academics and practitioners.

.row{:id => "showcase"}
  .col-sm-4
    %h2
      With over 300 methods to choose from, we help guide your method discovery and selection.
  .col-sm-8
    .circle-container
      .center-container
        .center
          %img
          %h3{:id => "showcase-header"}
            Research
          %p{:id => "showcase-desc"}
            Methods to support acquiring meaningful data to drive design decisions

      %a{:onclick => 'changeStage(0)'}
        .deg0.underline-container
          Research
          .underline
      %a{:onclick => 'changeStage(1)'}
        .deg72.underline-container
          Analyze
          .underline
      %a{:onclick => 'changeStage(2)'}
        .deg144.underline-container
          Ideate
          .underline
      %a{:onclick => 'changeStage(3)'}
        .deg216.underline-container
          Build
          .underline
      %a{:onclick => 'changeStage(4)'}
        .deg288.underline-container
          Communicate
          .underline

.row{:id => "methods"}
  .col-sm-12
    %h1{:class => "underline-container", :id => "method-link"}
      = link_to "Methods", design_methods_path
      .underline.hide
    %p
      Design methods provide a structure to the fuzzy and open-ended human-centered design process. We have curated a comprehensive collection of methods, methodically organized to help you navigate the ambiguous nature of design. Our methods are actionable - with best practices, instructions for use, resources, and more to help you seamlessly embed design thinking into your work.
    .see-link
      %a
        = link_to "See Methods >>", design_methods_path
  .col-sm-4
    .card
      - @method = DesignMethod.find(102)
      %img
        = image_tag @method.picture_url
      .card-container
        %h4
          = @method.name
        %p
          = shorten(@method.overview)
  .col-sm-4
    .card
      - @method = DesignMethod.find(13)
      %img
        = image_tag @method.picture_url
      .card-container
        %h4
          = @method.name
        %p
          = shorten(@method.overview)
  .col-sm-4
    .card
      - @method = DesignMethod.find(111)
      %img
        = image_tag @method.picture_url
      .card-container
        %h4
          = @method.name
        %p
          = shorten(@method.overview)

.row{:id => "case-studies"}
  .col-sm-6
    .vert-card
      - @case_study = CaseStudy.find(204) #201
      .vert-card-container
        %h4
          = @case_study.name
        %p
          = shorten(@case_study.overview)
      %img
        = image_tag @case_study.picture_url
    -# .background{:id => "casestudies-background"}
    -#   = link_to 'https://www.thedesignexchange.org/case_studies/201' do
    -#     .layer
    -#       %h2
    -#         HCI Practices in Malaysia
    -#       %h4
    -#         ICT is seen as not only an industry, but a driving factor in the Malaysian economy in order to increase productivity and efficiency.
  .col-sm-6
    %h1{:class => "underline-container", :id => "casestudy-link"}
      = link_to "Case Studies", case_studies_path
      .underline.hide
    %p
      By providing context examples of design methods in practice, we hope to support designers address complex challenges through a human-centered design process. Our ever-growing collection of case studies is meant to inspire and empower the design community to creatively embed methods in practice.
    .see-link
      %a
        = link_to "See Case Studies >>", case_studies_path
.row
  .container.join
    .btn.join-button
      = link_to "Join our community", "users/sign_up"

:javascript
  var x = ['Students', 'Educators', 'Professionals', 'Anyone'];
  var y = ['Projects', 'Curriculum', 'Practice', 'Life'];
  var stages = ['Research', 'Analyze', 'Ideate', 'Build', 'Communicate'];
  var stagesImg = ['research_1.png','analyze_1.png','ideate_1.png','prototype_1.png','communicate_1.png'];
  var stagesDesc = ['Methods to support acquiring meaningful data to drive design decisions','Methods for synthesizing and drawing insights from collected data','Methods for generating new ideas for products, services, etc.','Methods for turning concepts and ideas into reality','Methods for sharing insights and design ideas']
  var currIndex = 0;
  var currStage = 0;

  function swapText() {
    if (currIndex < 3) currIndex++;
    else currIndex = 0;
    $("#rotate-A").text(x[currIndex]);
    $("#rotate-B").text(y[currIndex]);
  }

  function changeStage(stage, override=false) {
    if (stage === currStage && !override) return;
    currStage = stage;
    for (var i = 0; i < 5; i++) {
      var selector = '.circle-container a:eq(' + i + ')';
      if (i === stage) {
        $(selector).find('.underline').removeClass('hide');
        $(selector).css('color', '#333333');
        $('#showcase-header').text(stages[i]);
        $('#showcase-desc').text(stagesDesc[i]);
        $('.circle-container img').attr('src', '/assets/' + stagesImg[i]);
      } else {
        $(selector).find('.underline').addClass('hide');
        $(selector).css('color', 'rgba(0, 0, 0, 0.6)');
      }
    }
  }

  $(document).ready( function() {
    window.setInterval(swapText, 4000);
    changeStage(currStage, true);

    $('.circle-container a').hover(function(){
        $(this).find('.underline').removeClass('hide');
    },
    function(){
        if ($(this).attr('onclick')[12] !== currStage.toString()) {
          $(this).find('.underline').addClass('hide');
        }
    });

    $('#method-link, #casestudy-link').hover(function(){
        $(this).find('.underline').removeClass('hide');
    },
    function(){
        $(this).find('.underline').addClass('hide');
    });
  });
