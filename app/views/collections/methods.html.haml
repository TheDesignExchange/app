:css
  .char-checkbox-label {
    display: block;
    font-weight: normal;
  }
  .all_methods_studies {
    padding-left: 15px;
  }
:javascript
  $(function(){
    jQuery.expr[':'].Contains = function(a,i,m){
      return (a.textContent || a.innerText || "").toUpperCase().indexOf(m[3].toUpperCase())>=0;
    };
    $(".char-filter").change(filterCharacteristics).keyup(function(){$(this).change()})
  });

  function filterCharacteristics() {
    var filterText = $(this).val();
    if(filterText) {
      $(".char-checkbox-label:not(:Contains(" + filterText + "))").css('background-color', 'white');
      $(".char-checkbox-label:Contains(" + filterText + ")").css('background-color', '#ffff99');
      $(".char-checkbox-label:not(:Contains(" + filterText + "))").slideUp();
      $(".char-checkbox-label:Contains(" + filterText + ")").slideDown();
    } else {
      $(".char-checkbox-label").slideDown();
      $(".char-checkbox-label").css('background-color', 'white');
    }
  }



%h3.all_methods_studies All Design Methods

%input.char-filter.form-control{type: "text", placeholder: "Filter Methods..."}

= form_for @collection do |f|
  - full = DesignMethod.count
  - one_third = full/3
  - two_thirds = one_third * 2

  .col-md-4.edit-char-group
    - DesignMethod.all[0..one_third].each do |m|
      - method = DesignMethod.where(id: m.id)
      = f.collection_check_boxes(:design_method_ids, method, :id, :name) {|b| b.label(class: "char-checkbox-label") {b.check_box(class: "char-checkbox") + b.text}}

  .col-md-4.edit-char-group
    - DesignMethod.all[(one_third+1)..two_thirds].each do |m|
      - method = DesignMethod.where(id: m.id)
      = f.collection_check_boxes(:design_method_ids, method, :id, :name) {|b| b.label(class: "char-checkbox-label") {b.check_box(class: "char-checkbox") + b.text}}

  .col-md-4.edit-char-group
    - DesignMethod.all[(two_thirds+1)..full].each do |m|
      - method = DesignMethod.where(id: m.id)
      = f.collection_check_boxes(:design_method_ids, method, :id, :name) {|b| b.label(class: "char-checkbox-label") {b.check_box(class: "char-checkbox") + b.text}}

  /- DesignMethod.all.each do |m|
  /- method = DesignMethod.where(id: m.id)
  /= f.collection_check_boxes(:design_method_ids, method, :id, :name) {|b| b.label(class: "char-checkbox-label") {b.check_box(class: "char-checkbox") + b.text}}
  = f.submit "Save", :class => "btn btn-primary pull-right"